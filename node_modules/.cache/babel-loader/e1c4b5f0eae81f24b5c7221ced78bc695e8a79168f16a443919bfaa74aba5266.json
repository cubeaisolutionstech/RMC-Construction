{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"E:\\\\construction-app\\\\src\\\\components\\\\inward\\\\InventoryManagement.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InventoryManagement = () => {\n  _s();\n  const [inventory, setInventory] = useState([]);\n  const [dashboardStats, setDashboardStats] = useState({\n    totalItems: 0,\n    totalValue: 0,\n    lowStockItems: 0,\n    recentEntries: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterStatus, setFilterStatus] = useState(\"All\");\n  useEffect(() => {\n    fetchInventoryData();\n    fetchDashboardStats();\n  }, []);\n  const fetchInventoryData = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"http://localhost:5000/inventory\");\n      if (response.ok) {\n        const data = await response.json();\n        setInventory(data);\n      } else {\n        // Fallback: create inventory from batch slips\n        await createInventoryFromBatchSlips();\n      }\n    } catch (error) {\n      console.error(\"Error fetching inventory:\", error);\n      await createInventoryFromBatchSlips();\n    } finally {\n      setLoading(false);\n    }\n  };\n  const createInventoryFromBatchSlips = async () => {\n    try {\n      // Fetch batch slips to create inventory\n      const batchResponse = await fetch(\"http://localhost:5000/batch-slips\");\n      if (batchResponse.ok) {\n        const batchSlips = await batchResponse.json();\n\n        // Group by material type and sum quantities\n        const inventoryMap = {};\n        batchSlips.forEach(batch => {\n          const key = `${batch.material_type}_${batch.unit}`;\n          if (inventoryMap[key]) {\n            inventoryMap[key].quantity += batch.quantity;\n            inventoryMap[key].totalValue += batch.total_amount;\n            inventoryMap[key].lastUpdated = new Date(Math.max(new Date(inventoryMap[key].lastUpdated), new Date(batch.received_date)));\n          } else {\n            inventoryMap[key] = {\n              id: Object.keys(inventoryMap).length + 1,\n              material_type: batch.material_type,\n              quantity: batch.quantity,\n              unit: batch.unit,\n              rate: batch.rate,\n              totalValue: batch.total_amount,\n              supplier: batch.supplier_name,\n              lastUpdated: new Date(batch.received_date),\n              status: batch.quantity < 10 ? \"Low Stock\" : \"In Stock\"\n            };\n          }\n        });\n        setInventory(Object.values(inventoryMap));\n      }\n    } catch (error) {\n      console.error(\"Error creating inventory from batch slips:\", error);\n      setInventory([]);\n    }\n  };\n  const fetchDashboardStats = async () => {\n    try {\n      // Fetch various stats from different endpoints\n      const [batchResponse, vehicleResponse, supplierResponse] = await Promise.all([fetch(\"http://localhost:5000/batch-slips\"), fetch(\"http://localhost:5000/vehicles\"), fetch(\"http://localhost:5000/suppliers\")]);\n      let totalItems = 0;\n      let totalValue = 0;\n      let recentEntries = 0;\n      if (batchResponse.ok) {\n        const batchSlips = await batchResponse.json();\n        totalItems = batchSlips.length;\n        totalValue = batchSlips.reduce((sum, batch) => sum + (batch.total_amount || 0), 0);\n\n        // Count entries from last 7 days\n        const weekAgo = new Date();\n        weekAgo.setDate(weekAgo.getDate() - 7);\n        recentEntries = batchSlips.filter(batch => new Date(batch.received_date) > weekAgo).length;\n      }\n\n      // Count low stock items (assuming quantity < 10 is low stock)\n      const lowStockItems = inventory.filter(item => item.quantity < 10).length;\n      setDashboardStats({\n        totalItems,\n        totalValue,\n        lowStockItems,\n        recentEntries\n      });\n    } catch (error) {\n      console.error(\"Error fetching dashboard stats:\", error);\n    }\n  };\n  const exportToExcel = () => {\n    const exportData = inventory.map((item, index) => ({\n      \"S.No\": index + 1,\n      \"Material Type\": item.material_type,\n      Quantity: item.quantity,\n      Unit: item.unit,\n      Rate: item.rate,\n      \"Total Value\": item.totalValue,\n      Supplier: item.supplier,\n      Status: item.status,\n      \"Last Updated\": new Date(item.lastUpdated).toLocaleDateString()\n    }));\n    const worksheet = XLSX.utils.json_to_sheet(exportData);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Inventory\");\n    XLSX.writeFile(workbook, \"inventory.xlsx\");\n  };\n  const filteredInventory = inventory.filter(item => {\n    const matchesSearch = item.material_type.toLowerCase().includes(searchTerm.toLowerCase()) || (item.supplier || \"\").toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesFilter = filterStatus === \"All\" || item.status === filterStatus;\n    return matchesSearch && matchesFilter;\n  });\n  const refreshData = () => {\n    fetchInventoryData();\n    fetchDashboardStats();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inventory-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-icon\",\n          children: \"\\uD83D\\uDCE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Inventory Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-refresh\",\n          onClick: refreshData,\n          disabled: loading,\n          children: \"\\uD83D\\uDD04 Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-export\",\n          onClick: exportToExcel,\n          disabled: inventory.length === 0,\n          children: \"\\uD83D\\uDCCA Export Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-overview\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stat-number\",\n              children: loading ? \"...\" : dashboardStats.totalItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-change\",\n              children: \"Material types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stat-number\",\n              children: [\"\\u20B9\", loading ? \"...\" : dashboardStats.totalValue.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-change\",\n              children: \"Inventory worth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Low Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stat-number\",\n              children: loading ? \"...\" : dashboardStats.lowStockItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-change negative\",\n              children: \"Items need reorder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Recent Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stat-number\",\n              children: loading ? \"...\" : dashboardStats.recentEntries\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-change positive\",\n              children: \"Last 7 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inventory-controls\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-filter-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search materials or suppliers...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterStatus,\n          onChange: e => setFilterStatus(e.target.value),\n          className: \"filter-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"All\",\n            children: \"All Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"In Stock\",\n            children: \"In Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Low Stock\",\n            children: \"Low Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Out of Stock\",\n            children: \"Out of Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inventory-table\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: \"Loading inventory...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S.No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Material Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Unit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Supplier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Updated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredInventory.map((item, index) => {\n            var _item$totalValue, _item$status;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.material_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.unit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"\\u20B9\", item.rate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"\\u20B9\", (_item$totalValue = item.totalValue) === null || _item$totalValue === void 0 ? void 0 : _item$totalValue.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.supplier\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status ${(_item$status = item.status) === null || _item$status === void 0 ? void 0 : _item$status.toLowerCase().replace(\" \", \"-\")}`,\n                  children: item.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(item.lastUpdated).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), !loading && filteredInventory.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No inventory items found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .dashboard-overview {\n          margin-bottom: 30px;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n          margin-bottom: 20px;\n        }\n        \n        .stat-card {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n        \n        .stat-icon {\n          font-size: 2.5rem;\n          opacity: 0.8;\n        }\n        \n        .stat-info h3 {\n          margin: 0 0 5px 0;\n          font-size: 14px;\n          color: #666;\n          font-weight: 500;\n        }\n        \n        .stat-number {\n          margin: 0 0 5px 0;\n          font-size: 24px;\n          font-weight: bold;\n          color: #333;\n        }\n        \n        .stat-change {\n          font-size: 12px;\n          color: #666;\n        }\n        \n        .stat-change.positive {\n          color: #28a745;\n        }\n        \n        .stat-change.negative {\n          color: #dc3545;\n        }\n        \n        .inventory-controls {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          margin-bottom: 20px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        \n        .search-filter-group {\n          display: flex;\n          gap: 15px;\n          align-items: center;\n        }\n        \n        .search-input {\n          flex: 1;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          font-size: 14px;\n        }\n        \n        .filter-select {\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          font-size: 14px;\n          min-width: 150px;\n        }\n        \n        .status.in-stock {\n          background-color: #d4edda;\n          color: #155724;\n        }\n        \n        .status.low-stock {\n          background-color: #fff3cd;\n          color: #856404;\n        }\n        \n        .status.out-of-stock {\n          background-color: #f8d7da;\n          color: #721c24;\n        }\n        \n        .btn-refresh {\n          background-color: #17a2b8;\n          color: white;\n          margin-right: 10px;\n        }\n        \n        .btn-refresh:hover {\n          background-color: #138496;\n        }\n        \n        .loading-state {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n          font-size: 16px;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(InventoryManagement, \"m/QcBqCmJRN/zjVVHyfI0Vicv5Y=\");\n_c = InventoryManagement;\nexport default InventoryManagement;\nvar _c;\n$RefreshReg$(_c, \"InventoryManagement\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","XLSX","jsxDEV","_jsxDEV","InventoryManagement","inventory","setInventory","dashboardStats","setDashboardStats","totalItems","totalValue","lowStockItems","recentEntries","loading","setLoading","searchTerm","setSearchTerm","filterStatus","setFilterStatus","fetchInventoryData","fetchDashboardStats","response","fetch","ok","data","json","createInventoryFromBatchSlips","error","console","batchResponse","batchSlips","inventoryMap","forEach","batch","key","material_type","unit","quantity","total_amount","lastUpdated","Date","Math","max","received_date","id","Object","keys","length","rate","supplier","supplier_name","status","values","vehicleResponse","supplierResponse","Promise","all","reduce","sum","weekAgo","setDate","getDate","filter","item","exportToExcel","exportData","map","index","Quantity","Unit","Rate","Supplier","Status","toLocaleDateString","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","filteredInventory","matchesSearch","toLowerCase","includes","matchesFilter","refreshData","className","children","fileName","lineNumber","columnNumber","onClick","disabled","toLocaleString","type","placeholder","value","onChange","e","target","_item$totalValue","_item$status","replace","jsx","_c","$RefreshReg$"],"sources":["E:/construction-app/src/components/inward/InventoryManagement.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport * as XLSX from \"xlsx\"\n\nconst InventoryManagement = () => {\n  const [inventory, setInventory] = useState([])\n  const [dashboardStats, setDashboardStats] = useState({\n    totalItems: 0,\n    totalValue: 0,\n    lowStockItems: 0,\n    recentEntries: 0,\n  })\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [filterStatus, setFilterStatus] = useState(\"All\")\n\n  useEffect(() => {\n    fetchInventoryData()\n    fetchDashboardStats()\n  }, [])\n\n  const fetchInventoryData = async () => {\n    try {\n      setLoading(true)\n      const response = await fetch(\"http://localhost:5000/inventory\")\n      if (response.ok) {\n        const data = await response.json()\n        setInventory(data)\n      } else {\n        // Fallback: create inventory from batch slips\n        await createInventoryFromBatchSlips()\n      }\n    } catch (error) {\n      console.error(\"Error fetching inventory:\", error)\n      await createInventoryFromBatchSlips()\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const createInventoryFromBatchSlips = async () => {\n    try {\n      // Fetch batch slips to create inventory\n      const batchResponse = await fetch(\"http://localhost:5000/batch-slips\")\n      if (batchResponse.ok) {\n        const batchSlips = await batchResponse.json()\n\n        // Group by material type and sum quantities\n        const inventoryMap = {}\n\n        batchSlips.forEach((batch) => {\n          const key = `${batch.material_type}_${batch.unit}`\n          if (inventoryMap[key]) {\n            inventoryMap[key].quantity += batch.quantity\n            inventoryMap[key].totalValue += batch.total_amount\n            inventoryMap[key].lastUpdated = new Date(\n              Math.max(new Date(inventoryMap[key].lastUpdated), new Date(batch.received_date)),\n            )\n          } else {\n            inventoryMap[key] = {\n              id: Object.keys(inventoryMap).length + 1,\n              material_type: batch.material_type,\n              quantity: batch.quantity,\n              unit: batch.unit,\n              rate: batch.rate,\n              totalValue: batch.total_amount,\n              supplier: batch.supplier_name,\n              lastUpdated: new Date(batch.received_date),\n              status: batch.quantity < 10 ? \"Low Stock\" : \"In Stock\",\n            }\n          }\n        })\n\n        setInventory(Object.values(inventoryMap))\n      }\n    } catch (error) {\n      console.error(\"Error creating inventory from batch slips:\", error)\n      setInventory([])\n    }\n  }\n\n  const fetchDashboardStats = async () => {\n    try {\n      // Fetch various stats from different endpoints\n      const [batchResponse, vehicleResponse, supplierResponse] = await Promise.all([\n        fetch(\"http://localhost:5000/batch-slips\"),\n        fetch(\"http://localhost:5000/vehicles\"),\n        fetch(\"http://localhost:5000/suppliers\"),\n      ])\n\n      let totalItems = 0\n      let totalValue = 0\n      let recentEntries = 0\n\n      if (batchResponse.ok) {\n        const batchSlips = await batchResponse.json()\n        totalItems = batchSlips.length\n        totalValue = batchSlips.reduce((sum, batch) => sum + (batch.total_amount || 0), 0)\n\n        // Count entries from last 7 days\n        const weekAgo = new Date()\n        weekAgo.setDate(weekAgo.getDate() - 7)\n        recentEntries = batchSlips.filter((batch) => new Date(batch.received_date) > weekAgo).length\n      }\n\n      // Count low stock items (assuming quantity < 10 is low stock)\n      const lowStockItems = inventory.filter((item) => item.quantity < 10).length\n\n      setDashboardStats({\n        totalItems,\n        totalValue,\n        lowStockItems,\n        recentEntries,\n      })\n    } catch (error) {\n      console.error(\"Error fetching dashboard stats:\", error)\n    }\n  }\n\n  const exportToExcel = () => {\n    const exportData = inventory.map((item, index) => ({\n      \"S.No\": index + 1,\n      \"Material Type\": item.material_type,\n      Quantity: item.quantity,\n      Unit: item.unit,\n      Rate: item.rate,\n      \"Total Value\": item.totalValue,\n      Supplier: item.supplier,\n      Status: item.status,\n      \"Last Updated\": new Date(item.lastUpdated).toLocaleDateString(),\n    }))\n\n    const worksheet = XLSX.utils.json_to_sheet(exportData)\n    const workbook = XLSX.utils.book_new()\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Inventory\")\n    XLSX.writeFile(workbook, \"inventory.xlsx\")\n  }\n\n  const filteredInventory = inventory.filter((item) => {\n    const matchesSearch =\n      item.material_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (item.supplier || \"\").toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesFilter = filterStatus === \"All\" || item.status === filterStatus\n    return matchesSearch && matchesFilter\n  })\n\n  const refreshData = () => {\n    fetchInventoryData()\n    fetchDashboardStats()\n  }\n\n  return (\n    <div className=\"inventory-management\">\n      <div className=\"section-header\">\n        <div className=\"section-title\">\n          <div className=\"section-icon\">📦</div>\n          <h2>Inventory Management</h2>\n        </div>\n        <div className=\"header-actions\">\n          <button className=\"btn btn-refresh\" onClick={refreshData} disabled={loading}>\n            🔄 Refresh\n          </button>\n          <button className=\"btn btn-export\" onClick={exportToExcel} disabled={inventory.length === 0}>\n            📊 Export Excel\n          </button>\n        </div>\n      </div>\n\n      {/* Dashboard Overview */}\n      <div className=\"dashboard-overview\">\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">📋</div>\n            <div className=\"stat-info\">\n              <h3>Total Items</h3>\n              <p className=\"stat-number\">{loading ? \"...\" : dashboardStats.totalItems}</p>\n              <span className=\"stat-change\">Material types</span>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">💰</div>\n            <div className=\"stat-info\">\n              <h3>Total Value</h3>\n              <p className=\"stat-number\">₹{loading ? \"...\" : dashboardStats.totalValue.toLocaleString()}</p>\n              <span className=\"stat-change\">Inventory worth</span>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">⚠️</div>\n            <div className=\"stat-info\">\n              <h3>Low Stock</h3>\n              <p className=\"stat-number\">{loading ? \"...\" : dashboardStats.lowStockItems}</p>\n              <span className=\"stat-change negative\">Items need reorder</span>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <div className=\"stat-icon\">📈</div>\n            <div className=\"stat-info\">\n              <h3>Recent Entries</h3>\n              <p className=\"stat-number\">{loading ? \"...\" : dashboardStats.recentEntries}</p>\n              <span className=\"stat-change positive\">Last 7 days</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"inventory-controls\">\n        <div className=\"search-filter-group\">\n          <input\n            type=\"text\"\n            placeholder=\"Search materials or suppliers...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n          <select value={filterStatus} onChange={(e) => setFilterStatus(e.target.value)} className=\"filter-select\">\n            <option value=\"All\">All Status</option>\n            <option value=\"In Stock\">In Stock</option>\n            <option value=\"Low Stock\">Low Stock</option>\n            <option value=\"Out of Stock\">Out of Stock</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Inventory Table */}\n      <div className=\"inventory-table\">\n        {loading ? (\n          <div className=\"loading-state\">Loading inventory...</div>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>S.No</th>\n                <th>Material Type</th>\n                <th>Quantity</th>\n                <th>Unit</th>\n                <th>Rate</th>\n                <th>Total Value</th>\n                <th>Supplier</th>\n                <th>Status</th>\n                <th>Last Updated</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredInventory.map((item, index) => (\n                <tr key={item.id}>\n                  <td>{index + 1}</td>\n                  <td>{item.material_type}</td>\n                  <td>{item.quantity}</td>\n                  <td>{item.unit}</td>\n                  <td>₹{item.rate}</td>\n                  <td>₹{item.totalValue?.toLocaleString()}</td>\n                  <td>{item.supplier}</td>\n                  <td>\n                    <span className={`status ${item.status?.toLowerCase().replace(\" \", \"-\")}`}>{item.status}</span>\n                  </td>\n                  <td>{new Date(item.lastUpdated).toLocaleDateString()}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n\n        {!loading && filteredInventory.length === 0 && (\n          <div className=\"no-data\">\n            <p>No inventory items found</p>\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        .dashboard-overview {\n          margin-bottom: 30px;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n          margin-bottom: 20px;\n        }\n        \n        .stat-card {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n        \n        .stat-icon {\n          font-size: 2.5rem;\n          opacity: 0.8;\n        }\n        \n        .stat-info h3 {\n          margin: 0 0 5px 0;\n          font-size: 14px;\n          color: #666;\n          font-weight: 500;\n        }\n        \n        .stat-number {\n          margin: 0 0 5px 0;\n          font-size: 24px;\n          font-weight: bold;\n          color: #333;\n        }\n        \n        .stat-change {\n          font-size: 12px;\n          color: #666;\n        }\n        \n        .stat-change.positive {\n          color: #28a745;\n        }\n        \n        .stat-change.negative {\n          color: #dc3545;\n        }\n        \n        .inventory-controls {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          margin-bottom: 20px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        \n        .search-filter-group {\n          display: flex;\n          gap: 15px;\n          align-items: center;\n        }\n        \n        .search-input {\n          flex: 1;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          font-size: 14px;\n        }\n        \n        .filter-select {\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          font-size: 14px;\n          min-width: 150px;\n        }\n        \n        .status.in-stock {\n          background-color: #d4edda;\n          color: #155724;\n        }\n        \n        .status.low-stock {\n          background-color: #fff3cd;\n          color: #856404;\n        }\n        \n        .status.out-of-stock {\n          background-color: #f8d7da;\n          color: #721c24;\n        }\n        \n        .btn-refresh {\n          background-color: #17a2b8;\n          color: white;\n          margin-right: 10px;\n        }\n        \n        .btn-refresh:hover {\n          background-color: #138496;\n        }\n        \n        .loading-state {\n          text-align: center;\n          padding: 40px;\n          color: #666;\n          font-size: 16px;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default InventoryManagement\n"],"mappings":"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AAC,QAAA,EAAA7F,YAAA;UAAA8F,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAF,QAAA,EAAA7F,YAAA;QAAA8F,UAAA;QAAAC,YAAA;MAAA,OAC5B,CACN;IAAA;MAAAF,QAAA,EAAA7F,YAAA;MAAA8F,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAENxF,OAAA;MAAOqG,GAAG;MAAAhB,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAA7F,YAAA;MAAA8F,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAF,QAAA,EAAA7F,YAAA;IAAA8F,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAA9F,EAAA,CApYKO,mBAAmB;AAAAqG,EAAA,GAAnBrG,mBAAmB;AAsYzB,eAAeA,mBAAmB;AAAA,IAAAqG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}